1) Wie viele Autoren befinden sich in der Tabelle 'Autoren'?

use bibliotheksverwaltung;
select count(Id) from autor;
 
Antwort: 10
 
2) Welche Id hat der Autor mit dem Namen J.R.R. Tolkien?

use bibliotheksverwaltung;
select Id From autor
	where Vorname = 'J.R.R.'
		and Nachname = 'Tolkien';

Antwort: 7
 
3) Geben Sie die gesamte Bücherliste aus (Tabelle 'Bücher').

use bibliotheksverwaltung;
select titel From buch

Antwort: 
        The Art of Computer Programming: Volume 1: Fundamental Algorithms
        The Art of Computer Programming: Volume 2: Seminumerical Algorithms
        The Art of Computer Programming: Volume 3: Sorting and Searching
        Introduction to Algorithms
        Die Physiker. Eine Komödie in zwei Akten
        Der Alchimist
        Shining
        BLACKOUT - Morgen ist es zu spät
        Friedhof der Kuscheltiere
        Es
        Der Herr der Ringe. Die zwei Türme.
        Der Herr der Ringe. Die Rückkehr des Königs.
        ZERO - Sie wissen, was du tust
        HELIX - Sie werden uns ersetzen
        GIER - Wie weit würdest du gehen?
        C/C++: Das umfassende Lehrbuch
        Der Prophet
        Der Herr der Ringe. Die Gefähren.
        
4) Welche Bücher hat der Autor mit der Id=2 geschrieben? Das Ergebnis soll nach dem Erscheinungsjahr aufsteigend sortiert sein.
where equals
oder by

use bibliotheksverwaltung;
select titel from buch
	where Autor = 2
    order by Erscheinungsjahr asc;

Antwort: 
        Friedhof der Kuscheltiere
        Shining
        Es

5) Welche ISBN hat das Buch 'Der Alchimist'?

use bibliotheksverwaltung;
select ISBN from buch
	where titel = 'Der Alchimist';

Antwort: 978-3257237276

 
6) Geben Sie alle Buchtitel der englischsprachigen Bücher aus?

use bibliotheksverwaltung;
select titel from buch
	where sprache = 'Englisch';

Antwort: 
        The Art of Computer Programming: Volume 1: Fundamental Algorithms
        The Art of Computer Programming: Volume 2: Seminumerical Algorithms
        The Art of Computer Programming: Volume 3: Sorting and Searching
        Introduction to Algorithms
 
7) Wie viele Bücher vom Diogenes-Verlag befinden sich in der Tabelle 'Bücher'? (Erwartetes Ergebnis=2)

use bibliotheksverwaltung;
select Count(*) from buch
	where Verlag like 'Diogenes%';

Antwort: 2

 
8) Welche Bücher sind 2019 erschienen?

use bibliotheksverwaltung;
select titel from buch
	where erscheinungsjahr = 2019

Antwort: 
        Shinin
        Es
        GIER - Wie weit würdest du gehen?
 
9) Welche Bücher sind seit 2015 erschienen?

use bibliotheksverwaltung;
select titel from buch
	where erscheinungsjahr >= 2015

Antwort: 
        Shining
        Es
        ZERO - Sie wissen, was du tust
        HELIX - Sie werden uns ersetzen
        GIER - Wie weit würdest du gehen?
 
10) Welche Bücher sind in den Jahren 1997 und 2008 erschienen?

use bibliotheksverwaltung;
select titel from buch
	where erscheinungsjahr = 1997 or 2008;

Antwort: 
    The Art of Computer Programming: Volume 1: Fundamental Algorithms
    The Art of Computer Programming: Volume 2: Seminumerical Algorithms
    The Art of Computer Programming: Volume 3: Sorting and Searching
    Introduction to Algorithms
    Die Physiker. Eine Komödie in zwei Akten
    Der Alchimist
    Shining
    BLACKOUT - Morgen ist es zu spät
    Friedhof der Kuscheltiere
    Es
    Der Herr der Ringe. Die zwei Türme.
    Der Herr der Ringe. Die Rückkehr des Königs.
    ZERO - Sie wissen, was du tust
    HELIX - Sie werden uns ersetzen
    GIER - Wie weit würdest du gehen?
    C/C++: Das umfassende Lehrbuch
    Der Prophet
    Der Herr der Ringe. Die Gefähren.
 
11) Geben Sie die neuesten 3 Buchtitel aus.

limit 
order by

use bibliotheksverwaltung;
select titel, erscheinungsjahr from buch
	order by erscheinungsjahr desc
    limit 0,3

Ergebnis: 
        Es	2019
        Shining	2019
        GIER - Wie weit würdest du gehen?	2019
 
12) Suchen Sie nach den Büchern von Stephen King. Geben Sie die Buchtitel aus.

join

select b.Titel
from buch b
join autor a ON b.Autor = a.Id
where a.Vorname = 'Stephen'
  and a.Nachname = 'King';


Ergebnis:
        Shining
        Friedhof der Kuscheltiere
        Es
 
13) Wie heißt der Autor, der das Buch 'Introduction to Algorithms' geschrieben hat?

Select a.vorname
from autor a
join buch b on a.Id = b.Autor
	where b.titel = 'Introduction to Algorithms';

Ergebnis:
            Thomas H.

14) Geben Sie eine Liste aller Bücher (Titel) mit dem jeweiligen Autor aus. 
Die Bücher sollen nach dem Nachnamen und Vornamen des Autors aufsteigend sortiert sein.

Select a.vorname
from autor a
join buch b on a.Id = b.Autor
order by a.nachname, a.vorname ASC

Ergebnis:
        Paulo
        Thomas H.
        Friedrich
        Marc
        Marc
        Marc
        Marc
        Khalil
        Ulrich
        Stephen
        Stephen
        Stephen
        Donald E.
        Donald E.
        Donald E.
        J.R.R.
        J.R.R.
        J.R.R.

 
15) Welche Bücher hat der Autor Marc Elsberg geschrieben? Geben Sie die ISBN, den Buchtitel, 
den Vor- und Nachnamen des Autors und das Erscheinungsjahr aus (in dieser Reihenfolge). 
Sortieren Sie das Ergebnis so, dass das aktuellste Buch ganz oben steht.

Select b.ISBN, b.Titel, a.Vorname, a.Nachname, b.erscheinungsjahr
from buch b
	join autor a on b.Autor = a.Id
    order by erscheinungsjahr DESC

Ergebnis: 

        978-3764506322	GIER - Wie weit würdest du gehen?	Marc	Elsberg	2019
        978-3404130894	Shining	Stephen	King	2019
        978-3453504080	Es	Stephen	King	2019
        978-3734105579	HELIX - Sie werden uns ersetzen	Marc	Elsberg	2018
        978-3734100932	ZERO - Sie wissen, was du tust	Marc	Elsberg	2016
        978-3836227575	C/C++: Das umfassende Lehrbuch	Ulrich	Kaiser	2014
        978-3442380299	BLACKOUT - Morgen ist es zu spät	Marc	Elsberg	2013
        978-0262033848	Introduction to Algorithms	Thomas H.	Cormen	2013
        978-3843601757	Der Prophet	Khalil	Gibran	2012
        978-3453435797	Friedhof der Kuscheltiere	Stephen	King	2011
        978-3257237276	Der Alchimist	Paulo	Coelho	2008
        978-3608955385	Der Herr der Ringe. Die Rückkehr des Königs.	J.R.R.	Tolkien	2008
        978-3908934011	Der Herr der Ringe. Die Gefähren.	J.R.R.	Tolkien	2001
        978-0201896855	The Art of Computer Programming: Volume 3: Sorting and Searching	Donald E.	Knuth	1998
        978-3257230475	Die Physiker. Eine Komödie in zwei Akten	Friedrich	Dürrenmatt	1998
        978-0201896831	The Art of Computer Programming: Volume 1: Fundamental Algorithms	Donald E.	Knuth	1997
        978-0201896848	The Art of Computer Programming: Volume 2: Seminumerical Algorithms	Donald E.	Knuth	1997
        978-3608953107	Der Herr der Ringe. Die zwei Türme.	J.R.R.	Tolkien	1987

 
16) Wie viele Bücher die in deutscher Sprache und wie viele Bücher die in 
englischer Sprache geschrieben sind befinden sich in der Datenbank?

use bibliotheksverwaltung;
select count(titel) from buch
	where sprache = 'englisch'
    or sprache = 'deutsch'

Ergebnis: 18
 
17) In welchen Jahren sind 2 oder mehr Bücher erschienen?

use bibliotheksverwaltung;
select count(erscheinungsjahr), 
		erscheinungsjahr 
from buch
group by erscheinungsjahr
	having count(erscheinungsjahr) = 2

Ergebnis: 
        2	1997
        2	1998
        2	2013
        2	2008

18) Wie viele Bücher sind von den einzelnen Verlagen in der Datenbank? Geben Sie den 
Verlag mit der Anzahl seiner Bücher aus. (Diogenes und Diogenes Verlag sollen 
jeweils mit einem Buch vorkommen.)

use bibliotheksverwaltung;
select count(Erscheinungsjahr), verlag from buch
group by verlag

Ergebnis: 
        2	Addison-Wesley
        1	Prentice Hall
        1	The MIT Press
        1	Diogenes Verlag
        1	Diogenes
        1	Lübbe
        4	Blanvalet Taschenbuch Verlag
        2	Heyne Verlag
        3	Klett Cotta
        1	Galileo Computing
        1	Patmos Verlag


 
19) Geben Sie den Vornamen, den Nachnamen und die Anzahl Bücher aus, die der jeweilige 
Autor geschrieben hat. Sortieren Sie das Ergebnis nach der Anzahl Bücher absteigend. 
Die Spalte mit der Anzahl soll 'Anzahl Bücher' heißen.

use bibliotheksverwaltung;
SELECT a.Vorname, a.Nachname, COUNT(b.titel) 
FROM autor a
JOIN buch b ON b.Autor = a.Id
GROUP BY a.Id, a.Vorname, a.Nachname
ORDER BY COUNT(b.titel) DESC;

Ergebnis: 
Marc	Elsberg	4
Stephen	King	3
Donald E.	Knuth	3
J.R.R.	Tolkien	3
Khalil	Gibran	1
Paulo	Coelho	1
Thomas H.	Cormen	1
Ulrich	Kaiser	1
Friedrich	Dürrenmatt	1

 
20) Von welchen Autor scheint kein Buch in der Datenbank zu sein?

use bibliotheksverwaltung;
SELECT a.Vorname,a.Nachname
FROM autor a
LEFT JOIN buch b 
    ON b.Autor = a.Id
	WHERE b.Autor IS NULL;


Ergebnis: Jostein Gaarder

 
21) Fügen Sie der Datenbank ein Buch hinzu: ISBN: 978-3423620000, Titel: Sofies Welt, Erscheinungsjahr: 2000, 
Verlag: dtv Verlagsgesellschaft, Autor: Jostein Gaarder

use bibliotheksverwaltung;

insert into buch (Isbn, titel, erscheinungsjahr, verlag, sprache, autor)
values(978-3423620000, 'Sofies Welt', 2000, 'Deutsch', 'dtv Verlagsgesellschaft', 9);

Ergebnis: 3	36	08:46:55	insert into buch (Isbn, titel, erscheinungsjahr, verlag, sprache, autor)
 values(978-3423620000, 'Sofies Welt', 2000, 'Deutsch', 'dtv Verlagsgesellschaft', 9)	1 row(s) affected	0.031 sec


 
22) Bei dem Buchtitel 'Der Herr der Ringe. Die Gefährten' hat sich ein Rechtschreibfehler eingeschlichen. 
Korrigieren Sie das Wort 'Gefähren' auf 'Gefährten'.

use bibliotheksverwaltung;
update buch
SET Titel = REPLACE(Titel, 'Gefähren', 'Gefährten')
WHERE isbn = '978-3908934011';

Ergebnis: 3	58	09:02:20	update buch
        SET Titel = REPLACE(Titel, 'Gefähren', 'Gefährten')
        WHERE isbn = '978-3908934011'	1 row(s) affected
        Rows matched: 1  Changed: 1  Warnings: 0	0.031 sec